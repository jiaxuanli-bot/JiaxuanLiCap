<div id="main">
  <!-- top nav -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Committees</a>

    <div class="collapse navbar-collapse" id="navbar">
      <ul class="navbar-nav mr-auto">
      </ul>
      <ul class="navbar-nav ml-auto mr-3">
        <div ngbDropdown class="d-inline-block">
          <button class="btn btn-outline-primary" id="dropdownMenuButton" ngbDropdownToggle>{{authentication.currentUserValue.first}} {{authentication.currentUserValue.last}}</button>
          <div ngbDropdownMenu aria-labelledby="dropdownMenuButton">
            <button ngbDropdownItem (click)="authentication.logout()">Logout</button>
          </div>
        </div>
      </ul>
    </div>
  </nav>

  <div class="table-responsive mt-5 mb-5">
    <table class="table table-bordered table-striped col-xs-12 col-md-12 col-lg-12" id="committeeList">
      <thead>
      <tr>
        <th *ngFor="let property of ['Committee Name','Criteria','Members','Delete']">
          {{property}}
        </th>
      </tr>
      </thead>
      <tbody id="committeeListClickable">

      <tr *ngFor="let committee of committees;index as i">
        <td [routerLink]="['/uwl/committees', committee.id]">
          {{committee.name}}
        </td>
        <td [routerLink]="['/uwl/committees', committee.id]">
          <svg  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x file-x-icon"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </td>
        <td [routerLink]="['/uwl/committees', committee.id]">
          <span *ngIf="committee.members">{{committee.members.length}}/9</span>
          <span *ngIf="!committee.members">0/9</span>
        </td>
        <td>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 view-link file-trash-icon" href="#" data-toggle="modal" data-target="#exampleModal" (click)="delete(committee, i)"><polyline points="3 6 5 6 21 6">
          </polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
        </td>
      </tr>
      </tbody>
    </table>

    <div class="table-buttons mt-4 input-group" id="tableFooterGroup">
      <ul class="ml-auto">
        <button type="button" class="btn btn-primary mb-5" id="addCommittee" data-toggle="modal" data-target="#addCommitteeModal">
          <i class="user-plus-icon ml-2 mr-1" data-feather="user-plus"></i>Add Committee
        </button>
      </ul>
    </div>

    <footer class="footer">
      <div class="container" id="footerText">
        <span class="text-dark">UWLAX</span>
      </div>
    </footer>

    <div class="modal fade" id="addCommitteeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span class="closeBtn mr-4" aria-hidden="true">&times;</span>
            </button>
            <div class="input-group mt-5 mb-3">
              <h3>Name:{{newCommittee.name}}</h3>
              <input *ngIf="modifyNewCommittee.editName" [(ngModel)]="newName" class="ml-2 w-25">
              <ul  *ngIf="!modifyNewCommittee.editName" class="mt-1 ml-auto">
                <svg xmlns="http://www.w3.org/2000/svg" (click)="modifyName()" width="29" height="29" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3 view-link file-edit-icon">
                  <path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
              </ul>
              <ul *ngIf="modifyNewCommittee.editName" class="ml-auto">
                <button type="button" class="btn-sm btn-danger mr-2" (click)="modifyName()">
                  Cancel
                </button>
                <button type="button" class="btn-sm btn-primary" (click)="saveName()">
                  Save
                </button>
              </ul>
            </div>
            <ul class="nav nav-tabs mb-4" role="tablist">
              <li role="presentation" class="active">
              </li>
            </ul>
            <div class="input-group mt-5">
              <h3>Introduction:</h3>
              <ul class="ml-auto">
                <svg *ngIf="!modifyNewCommittee.editIntroduction" xmlns="http://www.w3.org/2000/svg" (click)="modifyIntr()"  width="29" height="29" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3 view-link file-edit-icon">
                  <path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
              </ul>
            </div>
            <ul class="nav nav-tabs" role="tablist">
              <li role="presentation" class="active">
              </li>
            </ul>
            <span class="mt-2">{{newCommittee.introduction}}</span>
            <ng-container *ngIf="modifyNewCommittee.editIntroduction">
              <textarea class="form-control mt-4" id="exampleFormControlTextarea1" rows="3" [(ngModel)]="newIntr"></textarea>
              <div class="input-group mt-2">
                <ul class="ml-auto">
                  <button type="button" class="btn-sm btn-danger mr-2" (click)="modifyIntr()">
                    Cancel
                  </button>
                  <button type="button" class="btn-sm btn-primary" (click)="saveIntr()">
                    Save
                  </button>
                </ul>
              </div>
            </ng-container>
            <div class="input-group mt-5">
              <h4>Duties</h4>
              <ul class="mr-auto">
              </ul>
              <ul>
                <svg *ngIf="!modifyNewCommittee.editDuties" (click)="modifyDu()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-square view-link plus-square-icon pluss" href="#"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                  <line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>
              </ul>
            </div>
            <ul class="nav nav-tabs" role="tablist">
              <li role="presentation" class="active">
              </li>
            </ul>
            <div class="tab-content" id="3">
              <div role="tabpanel" class="tab-pane active">
                <div class="input-group">
                  <div class="List">
                    <ol>
                      <li *ngFor="let d of this.newCommittee.duties">
                        {{d.duty}}
                        <ul class="ml-auto">
                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 view-link file-trash-icon"><polyline points="3 6 5 6 21 6">
                          </polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                        </ul>
                      </li>
                    </ol>
                  </div>
                </div>
              </div>
            </div>

<!--            <span *ngFor="let d of this.newCommittee.duties">-->
<!--              {{d.duty}}-->
<!--            </span>-->
            <div class="tab-content">
              <ng-container  *ngIf="modifyNewCommittee.editDuties">
                <textarea class="form-control" rows="2" [(ngModel)]="Du"></textarea>
                <div class="input-group mt-2">
                  <ul class="ml-auto">
                    <button type="button" class="btn-sm btn-danger mr-2" (click)="modifyDu()">
                      Cancel
                    </button>
                    <button type="button" class="btn-sm btn-primary" (click)="addDu()">
                      Save
                    </button>
                  </ul>
                </div>
              </ng-container>
            </div>
            <div class="mb-3 mt-5">
              <div class="input-group">
                <h4>Criteria</h4>
                <ul class="mr-auto">
                </ul>
                <ul>
                  <svg *ngIf="!modifyNewCommittee.editCriteria" (click)="modifyCri()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-square view-link plus-square-icon pluss" href="#"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>
                </ul>
              </div>
              <ul class="nav nav-tabs mb-4" role="tablist">
                <li role="presentation" class="active">
                </li>
              </ul>
              <div class="input-group">
                <div class="List">
                  <ol>
                    <li *ngFor="let d of this.newCommittee.criteria">
                      {{d.criteria}}
                      <ul class="ml-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 view-link file-trash-icon"><polyline points="3 6 5 6 21 6">
                        </polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                      </ul>
                    </li>
                  </ol>
                </div>
              </div>
              <div class="tab-content">
                <ng-container  *ngIf="modifyNewCommittee.editCriteria">
                  <textarea class="form-control" rows="2" [(ngModel)]="cri"></textarea>
                  <div class="input-group mt-2">
                    <ul class="ml-auto">
                      <button type="button" class="btn-sm btn-danger mr-2" (click)="modifyCri()">
                        Cancel
                      </button>
                      <button type="button" class="btn-sm btn-primary" (click)="addCri()">
                        Save
                      </button>
                    </ul>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
          <div class="input-group mt-5">
            <ul class="ml-auto">
              <button type="button" data-dismiss="modal" class="btn-sm btn-danger mr-2">
                Cancel
              </button>
              <button type="button" aria-hidden="true" data-dismiss="modal" class="btn-sm btn-primary" (click)="saveAll()">
                Save All
              </button>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /main -->
</div>
